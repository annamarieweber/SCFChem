\hypertarget{timedfunctional_8h_source}{}\doxysection{timedfunctional.\+h}
\label{timedfunctional_8h_source}\index{include/timedfunctional.h@{include/timedfunctional.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef TIMED\_FUNCTIONAL}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define TIMED\_FUNCTIONAL}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <armadillo>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <typeinfo>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{cndo2_8h}{cndo2.h}}"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{cluster_8h}{cluster.h}}"{}}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceutil}{util}}}
\DoxyCodeLine{13 \{}
\DoxyCodeLine{18     \textcolor{keyword}{namespace }timing}
\DoxyCodeLine{19     \{}
\DoxyCodeLine{26         \textcolor{keyword}{template} <\textcolor{keyword}{typename} F, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{27         \textcolor{keyword}{class }\mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional}{TimedFunctional}}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29         \{}
\DoxyCodeLine{30         \textcolor{keyword}{public}:}
\DoxyCodeLine{31             F \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional_a96f511c64c2aa05ebbc0833a1a66a144}{fn}}; }
\DoxyCodeLine{32             \textcolor{keywordtype}{string} fn\_name;}
\DoxyCodeLine{33 }
\DoxyCodeLine{34             \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional}{TimedFunctional}}(F \&\&val);}
\DoxyCodeLine{35 }
\DoxyCodeLine{36             \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional}{TimedFunctional}}(F \&\&val, \textcolor{keywordtype}{string} name);}
\DoxyCodeLine{37 }
\DoxyCodeLine{44             \textcolor{keyword}{typename} std::invoke\_result<F, Args...>::type \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional_ac0ad052ffaafc503f79bb5592b737f69}{operator()}}(Args... args);}
\DoxyCodeLine{45 }
\DoxyCodeLine{51             \textcolor{keywordtype}{void} \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional_a99312d0e573baea767fa5f282a46829b}{printTiming}}(std::chrono::duration<double> elapsed);}
\DoxyCodeLine{52         \};}
\DoxyCodeLine{53 }
\DoxyCodeLine{54         \textcolor{keyword}{template} <\textcolor{keyword}{typename} F, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{55         \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional}{TimedFunctional<F, Args...>::TimedFunctional}}(F \&\&val)}
\DoxyCodeLine{56         \{}
\DoxyCodeLine{57             fn = val;}
\DoxyCodeLine{58             fn\_name = \textcolor{keyword}{typeid}(fn).name();}
\DoxyCodeLine{59         \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61         \textcolor{keyword}{template} <\textcolor{keyword}{typename} F, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{62         TimedFunctional<F, Args...>::TimedFunctional(F \&\&val, \textcolor{keywordtype}{string} name)}
\DoxyCodeLine{63         \{}
\DoxyCodeLine{64             fn = val;}
\DoxyCodeLine{65             fn\_name = name;}
\DoxyCodeLine{66         \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68         \textcolor{keyword}{template} <\textcolor{keyword}{typename} F, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{69         \textcolor{keyword}{typename} std::invoke\_result<F, Args...>::type \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional_ac0ad052ffaafc503f79bb5592b737f69}{TimedFunctional<F, Args...>::operator()}}(Args... args)}
\DoxyCodeLine{70         \{}
\DoxyCodeLine{71             std::chrono::time\_point<std::chrono::system\_clock> start, end;}
\DoxyCodeLine{72             std::chrono::duration<double> elapsed;}
\DoxyCodeLine{73 }
\DoxyCodeLine{74             \textcolor{comment}{// starting clock}}
\DoxyCodeLine{75             start = std::chrono::system\_clock::now();}
\DoxyCodeLine{76             \textcolor{comment}{// calling function and saving result}}
\DoxyCodeLine{77             \textcolor{keyword}{auto} result = fn(args...);}
\DoxyCodeLine{78             \textcolor{comment}{// stopping clock}}
\DoxyCodeLine{79             end = std::chrono::system\_clock::now();}
\DoxyCodeLine{80             \textcolor{comment}{// calculating elapsed time}}
\DoxyCodeLine{81             elapsed = end -\/ start;}
\DoxyCodeLine{82             \textcolor{comment}{// print timing output}}
\DoxyCodeLine{83             \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional_a99312d0e573baea767fa5f282a46829b}{TimedFunctional::printTiming}}(elapsed);}
\DoxyCodeLine{84             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{85         \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87         \textcolor{keyword}{template} <\textcolor{keyword}{typename} F, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{88         \textcolor{keywordtype}{void} \mbox{\hyperlink{classutil_1_1timing_1_1_timed_functional_a99312d0e573baea767fa5f282a46829b}{TimedFunctional<F, Args...>::printTiming}}(std::chrono::duration<double> elapsed)}
\DoxyCodeLine{89         \{}
\DoxyCodeLine{90             std::cout << \textcolor{stringliteral}{"{}Executed Call  "{}} << fn\_name << \textcolor{stringliteral}{"{}: "{}} << elapsed.count() << \textcolor{stringliteral}{"{} secs"{}} << std::endl;}
\DoxyCodeLine{91         \}}
\DoxyCodeLine{92     \}}
\DoxyCodeLine{93 \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
